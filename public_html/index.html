<!DOCTYPE html>
<!--
https://github.com/Zentyx/Ortiz_David_Pacman.git
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>
            <h1>PACMAN</h1>

            <script>
                //a=setinterval(funcioSinParentesi,temps); cuando queramos dejar de hacer el proceso: clear interval(a);

                var row = "";
                var casilla = new Array(30);
                for (var i = 0; i < casilla.length; i++) {
                    casilla[i] = new Array(30);
                }
                crearMapa();

                /* Arriba: W
                 * Derecha: D
                 * Abajo: S
                 * Izquierda:A*/
                var fantasma1 = [];
                fantasma1 = crearPersonaje(fantasma1);
                var fantasma2 = [];
                fantasma2 = crearPersonaje(fantasma2);
                var fantasma3 = [];
                fantasma3 = crearPersonaje(fantasma3);
//                var jugador = [28, 16, "", ""];
                var jugador = new Array(4);
                jugador = crearPersonaje(jugador);
                pintarPersonajes();
                
                
                


                function crearPersonaje(personaje) {
                    var fila = 0;
                    var columna = 0;
                    creado = false;

                    var direccio = "";


                    do {
                        fila = Math.floor((Math.random() * 29) + 0);
                        columna = Math.floor((Math.random() * 29) + 0);

                    } while (casilla[fila][columna] == 0);

                    do {
                        var num = Math.floor((Math.random() * 4) + 1);
                        switch (num) {
                            case 1:
                                if (casilla[fila - 1][columna] == 1) {
                                    direccio = "w";
                                    creado = true;
                                } else {
                                    creado = false;
                                }
                                break;
                            case 2:
                                if (casilla[fila][columna + 1] == 1) {
                                    direccio = "d";
                                    creado = true;
                                } else {
                                    creado = false;
                                }
                                break;

                            case 3:
                                if (casilla[fila + 1][columna] == 1) {
                                    direccio = "s";
                                    creado = true;
                                } else {
                                    creado = false;
                                }
                                break;

                            case 4:
                                if (casilla[fila][columna - 1] == 1) {
                                    direccio = "a";
                                    creado = true;
                                } else {
                                    creado = false
                                }
                                break;

                            default :
                                alert(num + "</br>");

                                break;

                        }


                    } while (creado == false)

                    if (personaje.length == 4) {
                        personaje = [fila, columna, direccio,direccio];

                    } else {
                        personaje = [fila, columna, direccio];
                    }





                    return personaje;
                }

                function pintarPersonajes() {

                    for (var i = 0; i < casilla.length; i++) {
                        for (var j = 0; j < casilla[i].length; j++) {

                            if (fantasma1[0] == i && fantasma1[1] == j) {
                                casilla[i][j] = "F ";
                            }
                            if (fantasma2[0] == i && fantasma2[1] == j) {
                                casilla[i][j] = "F ";
                            }
                            if (fantasma3[0] == i && fantasma3[1] == j) {
                                casilla[i][j] = "F ";
                            }
                            if (jugador[0] == i && jugador[1] == j) {
                                casilla[i][j] = "<strong>J </strong>";
                            }

                            document.write(casilla[i][j] + " ");
                        }
                        document.write("</br>");

                    }
                document.writeln("Posiciones iniciales: </br>")
                document.writeln("Fantasma1: " + fantasma1);
                document.writeln("</br>")
                document.writeln("Fantasma2: " + fantasma2);
                document.writeln("</br>")
                document.writeln("Fantasma3: " + fantasma3);
                document.writeln("</br>")
                document.writeln("Jugador: " + jugador);
                }



                



                function crearMapa() {
                    casilla = [
                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0],
                        [0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0],
                        [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
                        [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
                        [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

                    ];
                }




            </script>
        </div>

    </body>
</html>
